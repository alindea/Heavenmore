import{S as re,i as ie,s as ue,h,j as I,t as P,b as T,c as ae,d as o,k as j,l as v,m as V,o as he,n as ne,e as fe,r as pe,p as ce,q as x}from"./index-BjcOySPF.js";function be(t){let s,n,A,B,J,X,D,b,C,q,E,M,S,i,k,u,a,f,_,p,d,y,K,z,L,m,O,R,Q,W=(t[4]?Math.ceil(t[8]):t[8])+"",e,l,c;return{c(){s=h("form"),n=h("canvas"),A=I(),B=h("br"),J=I(),X=h("label"),D=P("The amount for the current transaction $"),b=h("input"),C=I(),q=h("br"),E=I(),M=h("label"),S=P(`Total number of people who will share the amount
    `),i=h("input"),k=I(),u=h("br"),a=I(),f=h("label"),_=P(`Threshold $1
    `),p=h("input"),d=I(),y=h("br"),K=I(),z=h("label"),L=P(`The share for the person at index
    `),m=h("input"),O=P(`
  = `),R=h("b"),Q=P("$"),e=P(W),T(b,"type","number"),T(b,"class","svelte-1m3ngzl"),T(i,"type","number"),T(i,"class","svelte-1m3ngzl"),T(p,"type","checkbox"),T(p,"class","svelte-1m3ngzl"),T(m,"type","number"),T(m,"class","svelte-1m3ngzl")},m(r,g){ae(r,s,g),o(s,n),t[11](n),o(s,A),o(s,B),o(s,J),o(s,X),o(X,D),o(X,b),t[12](b),j(b,t[3]),o(s,C),o(s,q),o(s,E),o(s,M),o(M,S),o(M,i),t[14](i),j(i,t[1]),o(s,k),o(s,u),o(s,a),o(s,f),o(f,_),o(f,p),p.checked=t[4],o(s,d),o(s,y),o(s,K),o(s,z),o(z,L),o(z,m),t[17](m),j(m,t[2]),o(s,O),o(s,R),o(R,Q),o(R,e),l||(c=[v(b,"input",t[13]),v(i,"input",t[15]),v(p,"change",t[16]),v(m,"input",t[18])],l=!0)},p(r,[g]){g&8&&V(b.value)!==r[3]&&j(b,r[3]),g&2&&V(i.value)!==r[1]&&j(i,r[1]),g&16&&(p.checked=r[4]),g&4&&V(m.value)!==r[2]&&j(m,r[2]),g&272&&W!==(W=(r[4]?Math.ceil(r[8]):r[8])+"")&&he(e,W)},i:ne,o:ne,d(r){r&&fe(s),t[11](null),t[12](null),t[14](null),t[17](null),l=!1,pe(c)}}}const H=100,Y=1,N=1;function ge(t,s,n){let A;const B=(e,l,c)=>{e&&(e.clearRect(0,0,E,M),e.strokeStyle=getComputedStyle(document.body).getPropertyValue("--fg-color"),J(e),X(e,l,c))},J=e=>{e.beginPath();for(let l=0;l<=Math.PI;l+=.01){const c=H*(l-Math.sin(l)),r=H*(1-Math.cos(l));e.lineTo(Y+c,N+r)}e.stroke()},X=(e,l,c)=>{if(c<1||c>l)return;const r=C/l,g=r*(c-1),F=D(g),U=r*c,te=D(U);n(9,S=(te-F)/q*100);const G=Math.ceil(Y+g),$=Math.ceil(N+F),Z=Math.ceil(Y+U),oe=Math.ceil(N+te),ee=Y,se=N,le=Y+C,w=N+q;e.beginPath(),e.moveTo(G,$),e.lineTo(G,w),e.lineTo(Z,w),e.lineTo(Z,oe),e.lineTo(Z,$),e.lineTo(G,$),e.stroke(),e.beginPath(),Y!==G&&(e.moveTo(ee,se),e.lineTo(ee,w)),e.moveTo(ee,w),e.lineTo(G,w),e.moveTo(Z,w),e.lineTo(le,w),e.stroke()},D=e=>{let l=Math.PI/2,c=!1;for(let g=0;g<10;g++){const F=l-(l-Math.sin(l)-e/H)/(1-Math.cos(l)),U=Math.abs(F-l);if(l=F,U<1e-8){c=!0;break}}return c?H*(1-Math.cos(l)):0},b=e=>String(e||0).length+2+"ch",C=H*Math.PI,q=H*2,E=Y*2+C,M=N*2+q;let S=0,i,k,u=+(localStorage.getItem("isochrone population")||10),a=+(localStorage.getItem("isochrone individual")||1),f=+(localStorage.getItem("isochrone quantity")||1e6),_=localStorage.getItem("isochrone threshold")!=="-1",p,d,y;ce.subscribe(()=>{B(k,u,a)});function K(e){x[e?"unshift":"push"](()=>{i=e,n(0,i)})}function z(e){x[e?"unshift":"push"](()=>{y=e,n(7,y),n(3,f)})}function L(){f=V(this.value),n(3,f)}function m(e){x[e?"unshift":"push"](()=>{p=e,n(5,p),n(1,u)})}function O(){u=V(this.value),n(1,u)}function R(){_=this.checked,n(4,_)}function Q(e){x[e?"unshift":"push"](()=>{d=e,n(6,d),n(2,a),n(1,u)})}function W(){a=V(this.value),n(2,a),n(1,u)}return t.$$.update=()=>{t.$$.dirty&1&&i&&(n(0,i.width=E,i),n(0,i.height=M,i),n(10,k=i.getContext("2d"))),t.$$.dirty&2&&(u<1&&n(1,u=1),localStorage.setItem("isochrone population",""+u)),t.$$.dirty&6&&(a<1&&n(2,a=1),a>u&&n(2,a=u),localStorage.setItem("isochrone individual",""+a)),t.$$.dirty&1030&&B(k,u,a),t.$$.dirty&8&&(f<1&&n(3,f=1),localStorage.setItem("isochrone quantity",""+f)),t.$$.dirty&536&&n(8,A=(_?Math.ceil(S):S)/100*f),t.$$.dirty&16&&(_?localStorage.removeItem("isochrone threshold"):localStorage.setItem("isochrone threshold","-1")),t.$$.dirty&34&&p&&n(5,p.style.width=b(u),p),t.$$.dirty&68&&d&&n(6,d.style.width=b(a),d),t.$$.dirty&136&&y&&n(7,y.style.width=b(f),y)},[i,u,a,f,_,p,d,y,A,S,k,K,z,L,m,O,R,Q,W]}class de extends re{constructor(s){super(),ie(this,s,ge,be,ue,{})}}export{de as default};
