import{S as ue,i as ae,s as he,h as a,j as M,t as S,b as k,c as fe,d as n,k as j,l as x,m as ne,o as L,n as se,e as ce,r as pe,p as de,q as $}from"./index-COMccpO8.js";function be(t){let s,o,P,C,N,F,V,_,z,d,v,A,w,h,I,r,u,b,T,g,y,f,q,G,J,R,K,m,O,W,Q,e,l,c;return{c(){s=a("div"),o=a("canvas"),P=M(),C=a("br"),N=S(t[9]),F=a("br"),V=M(),_=a("label"),z=S("The amount for the current transaction $"),d=a("input"),v=M(),A=a("br"),w=M(),h=a("label"),I=S(`Total number of people to share the amount
    `),r=a("input"),u=M(),b=a("br"),T=M(),g=a("label"),y=S(`Threshold $1
    `),f=a("input"),q=M(),G=a("br"),J=M(),R=a("label"),K=S(`The share for the person at index
    `),m=a("input"),O=S(`
  = `),W=a("b"),Q=S("$"),e=S(t[8]),k(d,"type","number"),k(d,"class","svelte-1m3ngzl"),k(r,"type","number"),k(r,"class","svelte-1m3ngzl"),k(f,"type","checkbox"),k(f,"class","svelte-1m3ngzl"),k(m,"type","number"),k(m,"class","svelte-1m3ngzl")},m(i,p){fe(i,s,p),n(s,o),t[12](o),n(s,P),n(s,C),n(s,N),n(s,F),n(s,V),n(s,_),n(_,z),n(_,d),t[13](d),j(d,t[3]),n(s,v),n(s,A),n(s,w),n(s,h),n(h,I),n(h,r),t[15](r),j(r,t[1]),n(s,u),n(s,b),n(s,T),n(s,g),n(g,y),n(g,f),f.checked=t[4],n(s,q),n(s,G),n(s,J),n(s,R),n(R,K),n(R,m),t[18](m),j(m,t[2]),n(s,O),n(s,W),n(W,Q),n(W,e),l||(c=[x(d,"input",t[14]),x(r,"input",t[16]),x(f,"change",t[17]),x(m,"input",t[19])],l=!0)},p(i,[p]){p&512&&ne(N,i[9]),p&8&&L(d.value)!==i[3]&&j(d,i[3]),p&2&&L(r.value)!==i[1]&&j(r,i[1]),p&16&&(f.checked=i[4]),p&4&&L(m.value)!==i[2]&&j(m,i[2]),p&256&&ne(e,i[8])},i:se,o:se,d(i){i&&ce(s),t[12](null),t[13](null),t[15](null),t[18](null),l=!1,pe(c)}}}const E=100,X=1,H=1;function ge(t,s,o){let P;const C=(e,l,c)=>{e&&(e.clearRect(0,0,v,A),e.strokeStyle=getComputedStyle(document.body).getPropertyValue("--fg-color"),N(e),F(e,l,c))},N=e=>{e.beginPath();for(let l=0;l<=Math.PI;l+=.01){const c=E*(l-Math.sin(l)),i=E*(1-Math.cos(l));e.lineTo(X+c,H+i)}e.stroke()},F=(e,l,c)=>{if(c<1||c>l)return;const i=z/l,p=i*(c-1),B=V(p),U=i*c,oe=V(U);o(10,w=(oe-B)/d*100);const D=Math.round(X+p),ee=Math.round(H+B),Z=Math.round(X+U),re=Math.round(H+oe),te=X,le=H,ie=X+z,Y=H+d;e.beginPath(),e.moveTo(D,ee),e.lineTo(D,Y),e.lineTo(Z,Y),e.lineTo(Z,re),e.lineTo(Z,ee),e.lineTo(D,ee),e.stroke(),e.beginPath(),X!==D&&(e.moveTo(te,le),e.lineTo(te,Y)),e.moveTo(te,Y),e.lineTo(D,Y),e.moveTo(Z,Y),e.lineTo(ie,Y),e.stroke()},V=e=>{let l=Math.PI/2,c=!1;for(let p=0;p<10;p++){const B=l-(l-Math.sin(l)-e/E)/(1-Math.cos(l)),U=Math.abs(B-l);if(l=B,U<1e-8){c=!0;break}}return c?E*(1-Math.cos(l)):0},_=e=>String(e||0).length+2+"ch",z=E*Math.PI,d=E*2,v=X*2+z,A=H*2+d;let w=0,h,I,r=+(localStorage.getItem("isochrone population")||10),u=+(localStorage.getItem("isochrone individual")||1),b=+(localStorage.getItem("isochrone resource")||1e6),T=localStorage.getItem("isochrone threshold")!=="-1",g,y,f;de.subscribe(()=>{C(I,r,u)}),matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{C(I,r,u)});let q=0;function G(e){$[e?"unshift":"push"](()=>{h=e,o(0,h)})}function J(e){$[e?"unshift":"push"](()=>{f=e,o(7,f),o(3,b)})}function R(){b=L(this.value),o(3,b)}function K(e){$[e?"unshift":"push"](()=>{g=e,o(5,g),o(1,r)})}function m(){r=L(this.value),o(1,r)}function O(){T=this.checked,o(4,T)}function W(e){$[e?"unshift":"push"](()=>{y=e,o(6,y),o(2,u),o(1,r)})}function Q(){u=L(this.value),o(2,u),o(1,r)}return t.$$.update=()=>{t.$$.dirty&1&&h&&(o(0,h.width=v,h),o(0,h.height=A,h),o(11,I=h.getContext("2d"))),t.$$.dirty&2&&(r<1&&o(1,r=1),localStorage.setItem("isochrone population",""+r)),t.$$.dirty&6&&(u<1&&o(2,u=1),u>r&&o(2,u=r),localStorage.setItem("isochrone individual",""+u)),t.$$.dirty&2054&&C(I,r,u),t.$$.dirty&8&&(b<1&&o(3,b=1),localStorage.setItem("isochrone resource",""+b)),t.$$.dirty&1048&&o(8,P=T?Math.round(w/100*b):w/100*b),t.$$.dirty&16&&(T?localStorage.removeItem("isochrone threshold"):localStorage.setItem("isochrone threshold","-1")),t.$$.dirty&34&&g&&o(5,g.style.width=_(r),g),t.$$.dirty&68&&y&&o(6,y.style.width=_(u),y),t.$$.dirty&136&&f&&o(7,f.style.width=_(b),f),t.$$.dirty&772&&(u===1?o(9,q=P):o(9,q+=P))},[h,r,u,b,T,g,y,f,P,q,w,I,G,J,R,K,m,O,W,Q]}class ye extends ue{constructor(s){super(),ae(this,s,ge,be,he,{})}}export{ye as default};
